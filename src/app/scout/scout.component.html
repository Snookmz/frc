<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Match Scouting</ion-title>
    </ion-toolbar>
</ion-header>


<ion-content>
    <ion-row
            *ngIf="selectedEventStorage.teams.length === 0"
            justify-content-center class="ns-margin-top">
        <ion-col size-lg="6" class="ns-card-note ns-pointer" routerLink="/setup">
            <p>
                No teams, click here to go to setup and select event to get the teams.
            </p>
        </ion-col>
    </ion-row>

    <ion-row class="ion-justify-content-center" *ngIf="selectedEventStorage.teams.length !== 0">
        <ion-col>
            <form [formGroup]="parentDataForm" novalidate>
                <ion-row>
                    <ion-col>
                        <h1>
                            {{selectedEventStorage.event.name}}
                        </h1>
                    </ion-col>
                </ion-row>
                <ion-row class="ion-justify-content-center">
                    <ion-col class="ns-card-form" size-lg="10">
                        <ion-row formGroupName="teamDetails">
                            <ion-col>
                                <ion-item>
                                    <ion-label position="floating">
                                        Match Number
                                    </ion-label>
                                    <ion-input
                                            placeholder="(match number)"
                                            formControlName="numMatch"></ion-input>
                                </ion-item>
                            </ion-col>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="floating">
                                        Alliance
                                    </ion-label>
                                    <ion-select formGroupName="idAlliance" placeholder="(select color)">
                                        <ion-select-option value="1">Red</ion-select-option>
                                        <ion-select-option value="2">Blue</ion-select-option>
                                    </ion-select>
                                </ion-item>
                            </ion-col>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="floating">
                                        Drive Station
                                    </ion-label>
                                    <ion-select formGroupName="idDriveStation" placeholder="(select station)">
                                        <ion-select-option value="1">1</ion-select-option>
                                        <ion-select-option value="2">2</ion-select-option>
                                        <ion-select-option value="3">3</ion-select-option>
                                    </ion-select>
                                </ion-item>
                            </ion-col>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="floating">
                                        Team
                                    </ion-label>
                                    <ion-select formGroupName="idTeam" placeholder="(select team)">
                                        <ion-select-option
                                                *ngFor="let t of selectedEventStorage.teams" [value]="t.key">
                                            {{t.key}} - {{t.nickname}}
                                        </ion-select-option>
                                    </ion-select>
                                </ion-item>
                            </ion-col>
                            <!--                    <ion-col>-->
                            <!--                        <ion-item>-->
                            <!--                            <ion-label position="floating">-->
                            <!--                                Device Name-->
                            <!--                            </ion-label>-->
                            <!--                            <ion-input formControlName="txScoutName">-->
                            <!--                            </ion-input>-->
                            <!--                        </ion-item>-->
                            <!--                    </ion-col>-->
                            <ion-col>
                                <ion-button color="success" *ngIf="parentDataForm.invalid || parentDataForm.pristine">
                                    Save
                                </ion-button>
                            </ion-col>
                        </ion-row>
                        <ion-row formGroupName="matchSetup">
                            <ion-col>
                                <ion-item>
                                    <ion-label position="floating">
                                        Facing
                                    </ion-label>
                                    <ion-select formControlName="idStartFacing">
                                        <ion-select-option value="1">Own Station</ion-select-option>
                                        <ion-select-option value="2">Opponent Station</ion-select-option>
                                    </ion-select>
                                </ion-item>
                            </ion-col>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="floating">
                                        Robot Position
                                    </ion-label>
                                    <ion-select formControlName="idStartPosition">
                                        <ion-select-option value="1">Trench</ion-select-option>
                                        <ion-select-option value="2">Power Port</ion-select-option>
                                        <ion-select-option value="3">Loading</ion-select-option>
                                        <ion-select-option value="4">Other</ion-select-option>
                                    </ion-select>
                                </ion-item>
                            </ion-col>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="floating">
                                        Starting Cells
                                    </ion-label>
                                    <ion-input type="number" formControlName="numStartCells" placeholder="(cells to start with)"></ion-input>
                                </ion-item>
                            </ion-col>
                        </ion-row>

                    </ion-col>

                </ion-row>

                <ion-row class="ion-justify-content-center" formGroupName="results">
                    <ion-col class="ns-card-form-danger" size-lg="6">
                            <ion-row>
                                <ion-col size="8">
                                    <ion-item class="ns-item-danger" lines="none">
                                        <ion-label class="ns-label-danger">
                                            <p class="ns-p-danger">
                                                Total Robot Failure
                                            </p>
                                            <p class="ns-p-danger">
                                                (Crash, Stop etc)
                                            </p>
                                        </ion-label>
                                        <ion-toggle formControlName="flCrash" color="secondary"></ion-toggle>
                                    </ion-item>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-row>
                                        <ion-col>
                                            <ion-item class="ns-item-danger" lines="none">
                                                <ion-label>
                                                    Red Card
                                                </ion-label>
                                                <ion-toggle formControlName="flRed" color="danger"></ion-toggle>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <ion-item class="ns-item-danger" lines="none">
                                                <ion-label>
                                                    Yellow Card
                                                </ion-label>
                                                <ion-toggle formControlName="flYellow" color="warning"></ion-toggle>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                </ion-col>
                            </ion-row>
                    </ion-col>
                    <ion-col class="ns-card-form-success" size-lg="4">
                        <ion-row>
                            <ion-col>
                                <ion-item class="ns-item-success" lines="none">
                                    <ion-label>
                                        Achieved RP #1
                                    </ion-label>
                                    <ion-toggle formControlName="flRanking1" color="primary"></ion-toggle>
                                </ion-item>
                            </ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col>
                                <ion-item class="ns-item-success" lines="none">
                                    <ion-label>
                                        Achieved RP #1
                                    </ion-label>
                                    <ion-toggle formControlName="flRanking2" color="primary"></ion-toggle>
                                </ion-item>
                            </ion-col>
                        </ion-row>

                    </ion-col>
                </ion-row>

            </form>
        </ion-col>
    </ion-row>

    <ion-row class="ion-justify-content-center">
        <ion-col
                (click)="selectForm('auto')" size-lg="2" class="ns-pointer ns-focus">
            <ion-item
                    [color]="selectedForm === 'auto' ? 'secondary' : ''"
                    [lines]="selectedForm !== 'auto' ? '' : 'none'">
                <ion-label>
                    Auto
                </ion-label>
            </ion-item>
        </ion-col>
        <ion-col
                (click)="selectForm('tele')" size-lg="2" class="ns-pointer ns-focus">
            <ion-item
                    [lines]="selectedForm !== 'tele' ? '' : 'none'"
                    [color]="selectedForm === 'tele' ? 'secondary' : ''" lines="none">
                <ion-label>
                    Tele
                </ion-label>
            </ion-item>
        </ion-col>
        <ion-col
                (click)="selectForm('comment')" size-lg="2" class="ns-pointer ns-focus">
            <ion-item
                    [lines]="selectedForm !== 'comment' ? '' : 'none'"
                    [color]="selectedForm === 'comment' ? 'secondary' : ''" lines="none">
                <ion-label>
                    Comment
                </ion-label>
            </ion-item>
        </ion-col>

    </ion-row>

    <ion-row class="ion-justify-content-center">
        <ion-col size-lg="12">
            <router-outlet></router-outlet>
        </ion-col>
    </ion-row>

</ion-content>

